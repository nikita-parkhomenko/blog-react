(this["webpackJsonpblog-react"]=this["webpackJsonpblog-react"]||[]).push([[0],{32:function(t,e,n){t.exports=n(67)},37:function(t,e,n){},55:function(t,e,n){},56:function(t,e,n){},57:function(t,e,n){},58:function(t,e,n){},64:function(t,e,n){},65:function(t,e,n){},66:function(t,e,n){},67:function(t,e,n){"use strict";n.r(e);var a=n(0),l=n.n(a),o=n(29),c=n.n(o),r=(n(37),n(12)),s=n(5),i=n(6),u=n(8),p=n(7),m=n(9),d=n(11),h=n(13),b=n.n(h),f=(n(55),function(t){function e(){return Object(s.a)(this,e),Object(u.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){return l.a.createElement("div",{className:"lds-ring"},l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null))}}]),e}(a.Component)),E=(n(56),function(t){var e=t.title,n=t.body,a=t.clicked;return l.a.createElement("div",{className:"post",onClick:a},l.a.createElement("h3",null," ",e," "),l.a.createElement("p",null," ",n," "))}),v=(n(57),function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];return(n=Object(u.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(l)))).state={posts:[],loading:!0},n.postSelectedHandler=function(t){n.props.history.push("/"+t)},n}return Object(m.a)(e,t),Object(i.a)(e,[{key:"componentDidMount",value:function(){var t=this;console.log(this.props),b.a.get("https://bloggy-api.herokuapp.com/posts/").then((function(e){return t.setState({posts:e.data,loading:!1})}))}},{key:"render",value:function(){var t=this;return this.state.loading?l.a.createElement(f,null):l.a.createElement("section",{className:"all-posts"},l.a.createElement("h1",null,"Posts"),l.a.createElement("div",{className:"posts-wrapper"},this.state.posts.map((function(e){return l.a.createElement(E,{clicked:function(){return t.postSelectedHandler(e.id)},key:e.id,title:e.title,body:e.body})}))))}}]),e}(a.Component)),y=(n(58),function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];return(n=Object(u.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(l)))).state={title:"",body:"",redirect:!1},n.createNewPost=function(){var t={title:n.state.title,body:n.state.body};b.a.post("https://bloggy-api.herokuapp.com/posts/",t).then((function(t){console.log(t),n.setState({redirect:!0})}))},n}return Object(m.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){var t=this,e=this.state.redirect?l.a.createElement(d.a,{to:"/"}):null;return l.a.createElement("section",{className:"new-post"},e,l.a.createElement("h1",null,"Create a new post"),l.a.createElement("label",null,"Title"),l.a.createElement("input",{type:"text",value:this.state.title,onChange:function(e){return t.setState({title:e.target.value})}}),l.a.createElement("label",null,"Content"),l.a.createElement("textarea",{rows:"4",type:"text",value:this.state.body,onChange:function(e){return t.setState({body:e.target.value})}}),l.a.createElement("button",{onClick:this.createNewPost},"Create new post"))}}]),e}(a.Component)),g=(n(64),function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];return(n=Object(u.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(l)))).state={post:null,redirect:!1},n.componentDidMount=function(){n.updatePost()},n.componentDidUpdate=function(){n.updatePost()},n.updatePost=function(){n.props.match.params.id&&(!n.state.post||n.state.post&&n.state.post.id!==+n.props.match.params.id)&&b.a.get("https://bloggy-api.herokuapp.com/posts/"+n.props.match.params.id).then((function(t){console.log(t),n.setState({post:t.data})})).catch((function(t){return console.log(t)}))},n.deletePost=function(){b.a.delete("https://bloggy-api.herokuapp.com/posts/"+n.state.post.id).then((function(t){return console.log(t)})).catch((function(t){return console.log(t)})),n.setState({redirect:!0})},n}return Object(m.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){var t=this.state.redirect?l.a.createElement(d.a,{to:"/"}):null,e=null;return this.state.post&&(e=l.a.createElement("div",{className:"full-post"},l.a.createElement("h1",null," ",this.state.post.title," "),l.a.createElement("p",null," ",this.state.post.body," "),l.a.createElement("button",{onClick:this.deletePost},"Delete Post"))),l.a.createElement("div",null,t,e)}}]),e}(a.Component)),j=(n(65),function(t){function e(){return Object(s.a)(this,e),Object(u.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){return l.a.createElement("div",{className:"blog"},l.a.createElement("header",null,l.a.createElement("nav",null,l.a.createElement("ul",null,l.a.createElement("li",null," ",l.a.createElement(r.b,{exact:!0,to:"/"}," All Posts ")," "),l.a.createElement("li",null," ",l.a.createElement(r.b,{to:"/new-post"}," New Post ")," ")))),l.a.createElement(d.b,{path:"/",exact:!0,component:v}),l.a.createElement(d.d,null,l.a.createElement(d.b,{path:"/new-post",component:y}),l.a.createElement(d.b,{path:"/:id",exact:!0,component:g})))}}]),e}(a.Component));n(66);var O=function(){return l.a.createElement(r.a,null,l.a.createElement("div",{className:"App"},l.a.createElement(j,null)))};c.a.render(l.a.createElement(O,null),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.079e5f5c.chunk.js.map